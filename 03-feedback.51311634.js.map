{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACA,MACMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAsBC,aAAaC,QAFhB,uBAIzB,GAAGF,EAAqB,CACpB,MAAMG,EAAaC,KAAKC,MAAML,GAC9BH,EAAKS,MAAMC,MAAQJ,EAAUG,MAC7BT,EAAKW,QAAQD,MAAQJ,EAAUK,QA6BnC,SAASC,EAAYC,GACjB,MACIC,UAAUL,MAAEA,EAAKE,QAAEA,IACnBE,EAEJ,MAAO,CACHJ,MAAOA,EAAMC,MACbC,QAASA,EAAQD,OAjCzBV,EAAKe,iBAAkB,QAASC,EAAAlB,GAAEmB,UAAUC,KAM5C,SAAqBA,GACjBA,EAAMC,iBACN,MAAMC,EAAaR,EAAYZ,GAC/BI,aAAaiB,QAnBQ,sBAmBkBd,KAAKe,UAAUF,IARtDG,CAAYL,KACb,MAEHlB,EAAKe,iBAAiB,UAQtB,SAAkBG,GACdA,EAAMC,iBAEN,MAAMC,EAAaR,EAAYZ,GAEP,KAArBoB,EAAWX,OAAuC,KAAvBW,EAAWT,SACrCa,QAAQC,IAAIL,GAGhBF,EAAMQ,OAAOjB,MAAMC,MAAQ,GAC3BQ,EAAMQ,OAAOf,QAAQD,MAAQ,GAC7BN,aAAauB,WAjCQ","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from \"lodash\";\nconst LOCALSTORAGE_KEY = \"feedback-form-state\";\nconst form = document.querySelector(\".feedback-form\");\nconst persistantFormState = localStorage.getItem(LOCALSTORAGE_KEY);\n\nif(persistantFormState) {\n    const FORM_DATA =  JSON.parse(persistantFormState);\n    form.email.value = FORM_DATA.email;\n    form.message.value = FORM_DATA.message;\n}\n\nform.addEventListener( \"input\", _.throttle((event) => {\n    onInputSave(event);\n}, 500));\n\nform.addEventListener('submit', onSubmit);\n\nfunction onInputSave(event) {\n    event.preventDefault();\n    const DataObject = getFormData(form);\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(DataObject));\n}\n\nfunction onSubmit(event) {\n    event.preventDefault();\n\n    const DataObject = getFormData(form);\n\n    if(DataObject.email !== '' || DataObject.message !== '') {\n        console.log(DataObject);\n    }\n\n    event.target.email.value = '';\n    event.target.message.value = '';\n    localStorage.removeItem(LOCALSTORAGE_KEY);\n}\n\nfunction getFormData(form) {\n    const {\n        elements: { email, message }\n    } = form;\n\n    return {\n        email: email.value,\n        message: message.value\n    }\n}"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$persistantFormState","localStorage","getItem","FORM_DATA","JSON","parse","email","value","message","$945622fd0f572e60$var$getFormData","form1","elements","addEventListener","$parcel$interopDefault","throttle","event","preventDefault","DataObject","setItem","stringify","$945622fd0f572e60$var$onInputSave","console","log","target","removeItem"],"version":3,"file":"03-feedback.51311634.js.map"}