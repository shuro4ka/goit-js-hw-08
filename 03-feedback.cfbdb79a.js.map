{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SACMC,EAAmB,sBACnBC,EAAOC,SAASC,cAAc,kBAC9BC,EAAsBC,aAAaC,QAAQN,GAEjD,GAAGI,EAAqB,CACpB,IAAMG,EAAaC,KAAKC,MAAML,GAC9BH,EAAKS,MAAMC,MAAQJ,EAAUG,MAC7BT,EAAKW,QAAQD,MAAQJ,EAAUK,QA6BnC,SAASC,EAAYC,GACjB,IAAAC,EAEID,EADAE,SAAYN,EAAKK,EAALL,MAAOE,EAAOG,EAAPH,QAGvB,MAAO,CACHF,MAAOA,EAAMC,MACbC,QAASA,EAAQD,OAjCzBV,EAAKgB,iBAAkB,QAASC,EAAApB,GAAEqB,UAAS,SAACC,IAM5C,SAAqBA,GACjBA,EAAMC,iBACN,IAAMC,EAAaT,EAAYZ,GAC/BI,aAAakB,QAAQvB,EAAkBQ,KAAKgB,UAAUF,IARtDG,CAAYL,KACb,MAEHnB,EAAKgB,iBAAiB,UAQtB,SAAkBG,GACdA,EAAMC,iBAEN,IAAMC,EAAaT,EAAYZ,GAEP,KAArBqB,EAAWZ,OAAuC,KAAvBY,EAAWV,SACrCc,QAAQC,IAAIL,GAGhBF,EAAMQ,OAAOlB,MAAMC,MAAQ,GAC3BS,EAAMQ,OAAOhB,QAAQD,MAAQ,GAC7BN,aAAawB,WAAW7B,M","sources":["src/js/03-feedback.js"],"sourcesContent":["import _ from \"lodash\";\nconst LOCALSTORAGE_KEY = \"feedback-form-state\";\nconst form = document.querySelector(\".feedback-form\");\nconst persistantFormState = localStorage.getItem(LOCALSTORAGE_KEY);\n\nif(persistantFormState) {\n    const FORM_DATA =  JSON.parse(persistantFormState);\n    form.email.value = FORM_DATA.email;\n    form.message.value = FORM_DATA.message;\n}\n\nform.addEventListener( \"input\", _.throttle((event) => {\n    onInputSave(event);\n}, 500));\n\nform.addEventListener('submit', onSubmit);\n\nfunction onInputSave(event) {\n    event.preventDefault();\n    const DataObject = getFormData(form);\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(DataObject));\n}\n\nfunction onSubmit(event) {\n    event.preventDefault();\n\n    const DataObject = getFormData(form);\n\n    if(DataObject.email !== '' || DataObject.message !== '') {\n        console.log(DataObject);\n    }\n\n    event.target.email.value = '';\n    event.target.message.value = '';\n    localStorage.removeItem(LOCALSTORAGE_KEY);\n}\n\nfunction getFormData(form) {\n    const {\n        elements: { email, message }\n    } = form;\n\n    return {\n        email: email.value,\n        message: message.value\n    }\n}"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$LOCALSTORAGE_KEY","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$persistantFormState","localStorage","getItem","$b00c40859be242c5$var$FORM_DATA","JSON","parse","email","value","message","$b00c40859be242c5$var$getFormData","form1","_elements","elements","addEventListener","$parcel$interopDefault","throttle","event","preventDefault","DataObject","setItem","stringify","$b00c40859be242c5$var$onInputSave","console","log","target","removeItem"],"version":3,"file":"03-feedback.cfbdb79a.js.map"}